"use strict";(self.webpackChunkthirdweb_learn_theme=self.webpackChunkthirdweb_learn_theme||[]).push([[310],{310:(e,t,i)=>{i.d(t,{walletConnect:()=>g});var s=i(71958),n=i(42009),a=i(16074),o=i(61322),r=i(82286),h=i(49424),c=i(23123),l=(i(54146),i(35124),new WeakMap),d=new WeakMap,b=new WeakMap,w=new WeakMap,p=new WeakMap,_=new WeakMap,u=new WeakMap,v=new WeakMap,m=new WeakSet,W=new WeakSet;class k extends r.a{get walletName(){return"WalletConnect"}constructor(e){super(e?.walletId||k.id,e),(0,s._)(this,W),(0,s._)(this,m),(0,a._)(this,l,{writable:!0,value:void 0}),(0,a._)(this,d,{writable:!0,value:void 0}),(0,n._)(this,"connector",void 0),(0,n._)(this,"projectId",void 0),(0,n._)(this,"qrcode",void 0),(0,a._)(this,b,{writable:!0,value:e=>{if(e)throw e}}),(0,a._)(this,w,{writable:!0,value:e=>{if((0,a.a)(this,d,e.provider),!(0,a.b)(this,d))throw new Error("WalletConnect provider not found after connecting.")}}),(0,a._)(this,p,{writable:!0,value:()=>{(0,s.a)(this,W,f).call(this)}}),(0,a._)(this,_,{writable:!0,value:async e=>{e.chain||e.account}}),(0,a._)(this,u,{writable:!0,value:e=>{"display_uri"===e.type&&this.emit("open_wallet",e.data)}}),(0,a._)(this,v,{writable:!0,value:()=>{this.emit("open_wallet")}}),this.projectId=e?.projectId||h.T,this.qrcode=!1!==e?.qrcode}async getConnector(){if(!this.connector){const{WalletConnectConnector:e}=await i.e(6044).then(i.bind(i,76044));(0,a.a)(this,l,new e({chains:this.chains,options:{qrcode:this.qrcode,projectId:this.projectId,dappMetadata:this.dappMetadata,storage:this.walletStorage,qrModalOptions:this.options?.qrModalOptions}})),this.connector=new o.W((0,a.b)(this,l)),(0,a.a)(this,d,await(0,a.b)(this,l).getProvider()),(0,s.a)(this,m,M).call(this)}return this.connector}}function M(){(0,a.b)(this,l)&&((0,s.a)(this,W,f).call(this),(0,a.b)(this,l).on("connect",(0,a.b)(this,w)),(0,a.b)(this,l).on("disconnect",(0,a.b)(this,p)),(0,a.b)(this,l).on("change",(0,a.b)(this,_)),(0,a.b)(this,l).on("message",(0,a.b)(this,u)),(0,a.b)(this,d)?.signer.client.on("session_request_sent",(0,a.b)(this,v)))}function f(){(0,a.b)(this,l)&&((0,a.b)(this,l).removeListener("connect",(0,a.b)(this,w)),(0,a.b)(this,l).removeListener("disconnect",(0,a.b)(this,p)),(0,a.b)(this,l).removeListener("change",(0,a.b)(this,_)),(0,a.b)(this,l).removeListener("message",(0,a.b)(this,u)),(0,a.b)(this,d)?.signer.client.removeListener("session_request_sent",(0,a.b)(this,v)))}(0,n._)(k,"id",c.w.walletConnect),(0,n._)(k,"meta",{name:"WalletConnect",iconURL:"ipfs://QmX58KPRaTC9JYZ7KriuBzeoEaV2P9eZcA3qbFnTHZazKw/wallet-connect.svg"});const g=e=>{const t=e?.projectId||"145769e410f16970a79ff77b2d89a1e0";return{id:k.id,meta:k.meta,create:i=>new k({...i,qrcode:!0,projectId:t,qrModalOptions:e?.qrModalOptions})}}}}]);